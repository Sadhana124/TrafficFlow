<!DOCTYPE html>
<html>
  <head>
    <title><%= title %></title>
    <link rel="stylesheet" href="/bootstrap/css/bootstrap.css" type="text/css">
    <script type="text/javascript" src="/scripts/knockout-3.4.0.js" ></script>
    <script type="text/javascript" src="/scripts/jquery-1.12.3.min.js"></script>
      <script type="text/javascript" src="/scripts/renderDynamicRow.js"></script>


      <script>
          var rowNum = 1;
          function addRow() {
              rowNum ++;
              var row =
                      '<div class="form-group row"> ' +
                      '<div class = "col-xs-3"> ' +

                      '<select name="condAttr-' + rowNum + '"class="form-control">' +
                      '<% for(i=0 ; i<availableAttributes.length; i++) { %>' +
                      '<option value=<%= availableAttributes[i]%>><%= availableAttributes[i]%></option>' +
                      '<% } %>  </select>' +
                      '</div> ' +
                      '<div class = "col-xs-3"> ' +
                      '<select name="op-'+rowNum+'" class = "form-control"> ' +
                      '<% for(var i=0; i<conditions.length; i++) { %>' +

                      '<option value=<%= conditions[i]%>><%= conditions[i]%></option>' +
                      '<% } %>' +
                      '</select> ' +
                      '</div> ' +
                      '<div class = "col-xs-3"> ' +
                      '<input type="text" class="form-control" name="condValue-' +rowNum+'"> ' +
                      '</div> ' +
                      '<div class = "col-xs-3"> ' +
                      '<select name="combiner-'+rowNum+'" class = "form-control">' +
                      '<option value="AND">AND</option> ' +
                      '<option value="OR">OR</option> ' +
                      '</select> ' +
                      '</div>' +
                      '</div>';
              $('#formContainer').append(row);
          }
      </script>

      <!-- making ajax call -->
      <!--<script>
          $('#form_id').on('submit', function(e){
              alert("going to make ajax call");
              e.preventDefault();
              $.ajax({
                  type: "POST",
                  url: "/test",
                  data: $(this).serialize(),
                  success: function() {
                      alert('success');
                  }
              });
          });
      </script> -->

      <script>


          $( '#target' ).submit(function( event ) {
              alert( "Handler for .submit() called." );
              event.preventDefault();
              return false;
          });
      </script>




  </head>
  <body>
    <h1><%= title %></h1>
    <p>Welcome to <%= title %></p>

    <form id="target" action="destination.html">
        <input type="text" value="Hello there">
        <input type="submit" value="Go">
        <button type="submit">go gog go</button>
    </form>


      <form action="/query" method="post" id="form_id">
    <div class="container" id="formContainer">
        <div class = "row form-group">
          <div class="col-xs-6">
            <label for="from">From:</label>
            <input type="text" class="form-control" name="from">
          </div>
          <div class="col-xs-6">
            <label for="to">To:</label>
            <input type="text" class="form-control" name="to">
          </div>
        </div>

        <% for(var i=0; i<availableAttributes.length; i++) { %>
        <div class = "col-xs-6">
        <input type="checkbox" name = "<%= availableAttributes[i]%>">
        <label for = "<%= availableAttributes[i]%>"><%= availableAttributes[i]%></label>
        </div>
        <% } %>

        <div class="form-group row">
            <div class = "col-xs-3">
                <label>Select where attribute:</label>
            </div>
            <div class = "col-xs-3">
                <label>Select conditon for the selected where attribute:</label>
            </div>
            <div class = "col-xs-3">
                <label>Value for the condition attribute:</label>
            </div>
            <div class = "col-xs-3">
                <label>Value for the condition to combne with next condition:</label>
            </div>
        </div>

        <div id="whereClauseSelection">



        <div class="form-group row">

            <div class = "col-xs-3">

                <select name="condAttr-1" class = "form-control">
                    <% for(var i=0; i<availableAttributes.length; i++) { %>
                    <option value=<%= availableAttributes[i]%>><%= availableAttributes[i]%></option>
                    <% } %>
                </select>
            </div>

            <div class = "col-xs-3">

                <select name="op-1" class = "form-control">
                    <% for(var i=0; i<conditions.length; i++) { %>
                    <option value=<%= conditions[i]%>><%= conditions[i]%></option>
                    <% } %>
                </select>
            </div>

            <div class = "col-xs-3">
                <input type="text" class="form-control" name="condValue-1" data-bind="value: toTime">
            </div>

            <div class = "col-xs-3">
                <select name="combiner-1" class = "form-control">
                    <option value="AND">AND</option>
                    <option value="OR">OR</option>
                </select>
            </div>

        </div>

        <!-- row 2 - needs to be dynamically added in future -->



        <input type="button" onclick="addRow()" value="Add another where condition" class=row">

        </div>

        <!-- <input type="button" value="Submit" class = "btn btn-default" onclick="sendFormData()"> -->
        <input type="submit" value="xyz" class = "btn btn-default">


    </div>

        </form>



  </body>
</html>
